<?xml version="1.0"?>
<opencv_storage>
<layers>
<layer-0>
	<type>InputData</type>
	<name>input1</name>
	<n_input_planes>1</n_input_planes>
	<input_height>64</input_height>
	<input_width>64</input_width>
	<seq_length>1</seq_length>
</layer-0>
<layer-1>
	<type>ImgCropping</type>
	<name>crop1</name>
	<input_layer>input1</input_layer>
	<n_output_planes>1</n_output_planes>
	<output_height>48</output_height>
	<output_width>48</output_width>
	<seq_length>1</seq_length>
	<time_index>0</time_index>
	<visualize>1</visualize>
</layer-1>
<layer-2> <!-- CONTEXT NETWORK -->
	<type>Convolution</type>
	<name>conv1</name>
	<n_output_planes>6</n_output_planes>
	<ksize>5</ksize>
	<stride>1</stride>
	<visualize>1</visualize>
</layer-2>
<layer-3>
	<type>SubSampling</type>
	<name>pool1</name>
	<ksize>2</ksize>
	<stride>2</stride>
	<visualize>1</visualize>
</layer-3>
<layer-4>
	<type>Convolution</type>
	<name>conv2</name>
	<n_output_planes>16</n_output_planes>
	<ksize>5</ksize>
	<stride>1</stride>
	<visualize>1</visualize>
</layer-4>
<layer-5>
	<type>SubSampling</type>
	<name>pool2</name>
	<ksize>2</ksize>
	<stride>2</stride>
	<visualize>1</visualize>
</layer-5>
<layer-6>
	<type>FullConnect</type>
	<name>fc1</name>
	<n_output_planes>128</n_output_planes>
	<activation_type>tanh</activation_type>
</layer-6>
<layer-7> <!-- RECURRENT NETWORK II : GLIMPSE LOCALIZATION TASK  -->
	<type>Recurrent</type>
	<name>rnn2</name>
	<n_output_planes>128</n_output_planes>
	<seq_length>6</seq_length> <!-- nglimpses_per_target*(ntargets+1)  -->
	<time_index>0</time_index>
	<activation_type>tanh</activation_type>
</layer-7>
<layer-8> <!-- EMISSION NETWORK -->
	<type>FullConnect</type>
	<name>fc2</name>
	<n_output_planes>2</n_output_planes> <!-- (x,y,scale) tuple -->
	<activation_type>tanh</activation_type>
	<visualize>2</visualize>
</layer-8>
<layer-9>  <!-- GLIMPSE NETWORK -->
	<type>ImgCropping</type> <!-- [ImgCropping] -> [(Convolution+FullConnect)*FullConnect] -->
	<name>crop2</name>
	<input_layer>input1</input_layer>
	<n_output_planes>1</n_output_planes>
	<output_height>48</output_height>
	<output_width>48</output_width>
	<seq_length>1</seq_length>
	<time_index>0</time_index>
	<visualize>1</visualize>
</layer-9>
<layer-10>
	<type>Convolution</type>
	<name>conv3</name>
	<n_output_planes>6</n_output_planes>
	<ksize>5</ksize>
	<stride>1</stride>
	<visualize>1</visualize>
</layer-10>
<layer-11>
	<type>SubSampling</type>
	<name>pool3</name>
	<ksize>2</ksize>
	<stride>2</stride>
	<visualize>1</visualize>
</layer-11>
<layer-12>
	<type>Convolution</type>
	<name>conv4</name>
	<n_output_planes>16</n_output_planes>
	<ksize>5</ksize>
	<stride>1</stride>
	<visualize>1</visualize>
</layer-12>
<layer-13>
	<type>SubSampling</type>
	<name>pool4</name>
	<ksize>2</ksize>
	<stride>2</stride>
	<visualize>1</visualize>
</layer-13>
<layer-14>
	<type>FullConnect</type>
	<name>fc3</name>
	<n_output_planes>128</n_output_planes>
	<activation_type>tanh</activation_type>
</layer-14>
<layer-15> <!-- RECURRENT NETWORK I : CLASSIFICATION TASK -->
	<type>Recurrent</type>
	<name>rnn1</name>
	<n_output_planes>128</n_output_planes>
	<seq_length>6</seq_length> <!-- nglimpses_per_target*(ntargets+1)  -->
	<time_index>0</time_index>
	<activation_type>tanh</activation_type>
</layer-15>

<layer-16><predefined>rnn2</predefined><time_index>1</time_index></layer-16> 
<layer-17><predefined>fc2</predefined></layer-17>
<layer-18><predefined>crop2</predefined></layer-18>
<layer-19><predefined>conv3</predefined></layer-19>
<layer-20><predefined>pool3</predefined></layer-20>
<layer-21><predefined>conv4</predefined></layer-21>
<layer-22><predefined>pool4</predefined></layer-22>
<layer-23><predefined>fc3</predefined></layer-23>
<layer-24><predefined>rnn1</predefined><time_index>1</time_index></layer-24>

<layer-25><predefined>rnn2</predefined><time_index>2</time_index></layer-25> 
<layer-26><predefined>fc2</predefined></layer-26>
<layer-27><predefined>crop2</predefined></layer-27>
<layer-28><predefined>conv3</predefined></layer-28>
<layer-29><predefined>pool3</predefined></layer-29>
<layer-30><predefined>conv4</predefined></layer-30>
<layer-31><predefined>pool4</predefined></layer-31>
<layer-32><predefined>fc3</predefined></layer-32>
<layer-33><predefined>rnn1</predefined><time_index>2</time_index></layer-33>

<layer-34><predefined>rnn2</predefined><time_index>3</time_index></layer-34> 
<layer-35><predefined>fc2</predefined>  </layer-35>
<layer-36><predefined>crop2</predefined></layer-36>
<layer-37><predefined>conv3</predefined></layer-37>
<layer-38><predefined>pool3</predefined></layer-38>
<layer-39><predefined>conv4</predefined></layer-39>
<layer-40><predefined>pool4</predefined></layer-40>
<layer-41><predefined>fc3</predefined>  </layer-41>
<layer-42><predefined>rnn1</predefined><time_index>3</time_index></layer-42>

<layer-43><predefined>rnn2</predefined><time_index>4</time_index></layer-43> 
<layer-44><predefined>fc2</predefined>  </layer-44>
<layer-45><predefined>crop2</predefined></layer-45>
<layer-46><predefined>conv3</predefined></layer-46>
<layer-47><predefined>pool3</predefined></layer-47>
<layer-48><predefined>conv4</predefined></layer-48>
<layer-49><predefined>pool4</predefined></layer-49>
<layer-50><predefined>fc3</predefined>  </layer-50>
<layer-51><predefined>rnn1</predefined><time_index>4</time_index></layer-51>

<layer-52><predefined>rnn2</predefined><time_index>5</time_index></layer-52> 
<layer-53><predefined>fc2</predefined>  </layer-53>
<layer-54><predefined>crop2</predefined></layer-54>
<layer-55><predefined>conv3</predefined></layer-55>
<layer-56><predefined>pool3</predefined></layer-56>
<layer-57><predefined>conv4</predefined></layer-57>
<layer-58><predefined>pool4</predefined></layer-58>
<layer-59><predefined>fc3</predefined>  </layer-59>
<layer-60><predefined>rnn1</predefined><time_index>5</time_index></layer-60>

<layer-61> <!-- CLASSIFICATION NETWORK -->
	<type>FullConnect</type>
	<name>fc4</name>
	<input_layer>rnn1</input_layer> <!-- get `seq_length` from input layer -->
	<n_output_planes>10</n_output_planes>
	<activation_type>tanh</activation_type>
</layer-61>
</layers>
</opencv_storage>
